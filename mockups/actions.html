<!DOCTYPE html>

<html class="light" lang="es">

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <title>FinGrow+ Recommendations</title>
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;700;800&amp;display=swap"
    rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <script id="tailwind-config">
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "#004AAD",
            "secondary": "#00C49A",
            "warning": "#FFC107",
            "danger": "#F44336",
            "background-light": "#F8F9FA",
            "background-dark": "#101c22",
            "text-light": "#101c22",
            "text-dark": "#F8F9FA",
            "subtext-light": "#6c757d",
            "subtext-dark": "#adb5bd",
            "border-light": "#e0e0e0",
            "border-dark": "#343a40"
          },
          fontFamily: {
            "display": ["Manrope", "sans-serif"]
          },
          borderRadius: {
            "DEFAULT": "0.5rem",
            "lg": "0.75rem",
            "xl": "1rem",
            "full": "9999px"
          },
        },
      },
    }
  </script>
  <style>
    .material-symbols-outlined {
      font-variation-settings:
        'FILL' 0,
        'wght' 400,
        'GRAD' 0,
        'opsz' 24
    }
  </style>
  <style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
</head>

<body class="bg-background-light dark:bg-background-dark font-display text-text-light dark:text-text-dark">
  <div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden">
    <!-- Top App Bar -->
    <header class="sticky top-0 z-10 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm">
      <div class="flex items-center p-4 pb-2 justify-between">
        <div class="flex size-10 items-center justify-center text-subtle-text-light dark:text-subtle-text-dark">
          <span class="material-symbols-outlined text-2xl"><a href="index.html">arrow_back</a></span>
        </div>
        <h1 class="text-lg font-bold flex-1 text-center">Recomendations for you</h1>
        <div class="flex size-10 items-center justify-center"></div>
      </div>
    </header>
    <main class="flex-grow pb-24">
      <!-- Motivational Nudge Banner -->
      <div class="p-4 pt-2 @container">
        <div
          class="flex flex-1 flex-col items-start justify-between gap-4 rounded-xl border border-transparent bg-primary/10 dark:bg-primary/20 p-5 @[480px]:flex-row @[480px]:items-center">
          <div class="flex items-center gap-4">
            <span class="material-symbols-outlined text-success text-3xl">trending_up</span>
            <div class="flex flex-col gap-1">
              <p class="text-primary dark:text-sky-200 text-base font-bold leading-tight">You're ahead of schedule!</p>
              <p class="text-slate-600 dark:text-slate-300 text-sm font-normal leading-normal">Your consistent
                contributions have put you on the fast track.</p>
            </div>
          </div>
        </div>
      </div>
      <!-- Graph Placeholder -->
      <div class="px-4">
        <div
          class="aspect-[16/10] w-full rounded-lg bg-gray-200/50 dark:bg-gray-700/50 flex items-center justify-center">
          <div class="text-center p-4">
            <span
              class="material-symbols-outlined text-5xl text-subtext-light dark:text-subtext-dark opacity-50">show_chart</span>
            <p class="mt-2 text-sm text-subtext-light dark:text-subtext-dark">Line chart representing cash flow
              prediction.</p>
            <p class="text-xs text-subtext-light/70 dark:text-subtext-dark/70">Solid lines for historical, dashed for
              projected.</p>
          </div>
        </div>
      </div>
      <!-- Category Filter Chips -->
      <div class="sticky top-[60px] z-10 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-sm py-3">
        <div class="flex gap-3 px-4 overflow-x-auto whitespace-nowrap"
          style="scrollbar-width: none; -ms-overflow-style: none;">
          <div
            class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-primary pl-5 pr-5 shadow-sm"
            onclick="filterRecommendations('Todos')">
            <p class="text-white text-sm font-semibold">Todos</p>
          </div>
          <div
            class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-card-light dark:bg-card-dark border border-gray-200 dark:border-gray-700 pl-5 pr-5"
            onclick="filterRecommendations('AHORRO')">
            <p class="text-text-light dark:text-text-dark text-sm font-medium">Ahorro</p>
          </div>
          <div
            class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-card-light dark:bg-card-dark border border-gray-200 dark:border-gray-700 pl-5 pr-5"
            onclick="filterRecommendations('CRÉDITO')">
            <p class="text-text-light dark:text-text-dark text-sm font-medium">Crédito</p>
          </div>
          <div
            class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-card-light dark:bg-card-dark border border-gray-200 dark:border-gray-700 pl-5 pr-5"
            onclick="filterRecommendations('GASTOS HORMIGA')">
            <p class="text-text-light dark:text-text-dark text-sm font-medium">Gastos hormiga</p>
          </div>
          <div
            class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-card-light dark:bg-card-dark border border-gray-200 dark:border-gray-700 pl-5 pr-5"
            onclick="filterRecommendations('PAGOS PUNTUALES')">
            <p class="text-text-light dark:text-text-dark text-sm font-medium">Pagos puntuales</p>
          </div>
        </div>
      </div>
      <div class="flex flex-col gap-4 p-4" id="recommendations-container">
        <!-- Recommendation Card 1: Ahorro -->
        <div
          class="recommendation-card flex flex-col items-stretch justify-start rounded-xl shadow-[0_4px_12px_rgba(0,0,0,0.05)] bg-card-light dark:bg-card-dark overflow-hidden">
          <div class="flex w-full grow flex-col items-stretch justify-center gap-3 p-5">
            <p class="category text-primary text-sm font-bold leading-normal tracking-wide">AHORRO</p>
            <p class="text-text-light dark:text-text-dark text-lg font-bold leading-tight">Automatiza tu ahorro mensual
            </p>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-base font-normal leading-relaxed">
              Programa transferencias automáticas a tu cuenta de ahorros y observa cómo crece tu dinero sin esfuerzo.
            </p>
          </div>
        </div>
        <!-- Recommendation Card 2: Crédito -->
        <div
          class="recommendation-card flex flex-col items-stretch justify-start rounded-xl shadow-[0_4px_12px_rgba(0,0,0,0.05)] bg-card-light dark:bg-card-dark overflow-hidden">
          <div class="flex w-full grow flex-col items-stretch justify-center gap-3 p-5">
            <p class="category text-secondary text-sm font-bold leading-normal tracking-wide">CRÉDITO</p>
            <p class="text-text-light dark:text-text-dark text-lg font-bold leading-tight">Reduce el saldo de tu tarjeta
              de crédito</p>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-base font-normal leading-relaxed">
              Pagar más del mínimo en tu tarjeta de crédito mejora tu salud crediticia y reduce los intereses a largo
              plazo.
            </p>
          </div>
        </div>
        <!-- Recommendation Card 3: Gastos Hormiga -->
        <div
          class="recommendation-card flex flex-col items-stretch justify-start rounded-xl shadow-[0_4px_12px_rgba(0,0,0,0.05)] bg-card-light dark:bg-card-dark overflow-hidden">
          <div class="flex w-full grow flex-col items-stretch justify-center gap-3 p-5">
            <p class="category text-orange-500 text-sm font-bold leading-normal tracking-wide">GASTOS HORMIGA</p>
            <p class="text-text-light dark:text-text-dark text-lg font-bold leading-tight">Identifica y reduce tus
              gastos pequeños</p>
            <p class="text-subtle-text-light dark:text-subtle-text-dark text-base font-normal leading-relaxed">
              Revisa tus gastos diarios menores, como cafés o suscripciones, para encontrar oportunidades de ahorro
              inesperadas.
            </p>
          </div>
        </div>
        
        <!-- Explore Investments Button -->
        <div class="px-4 pb-4">
          <button onclick="document.getElementById('investmentModal').classList.remove('hidden')" class="w-full bg-secondary text-white py-3 rounded-lg font-bold hover:bg-secondary/90 transition-colors">
            Explorar Inversiones
          </button>
        </div>
    </main>
    <!-- Bottom Navigation Bar -->
    <nav
      class="fixed bottom-0 left-0 right-0 z-10 border-t border-border-light dark:border-border-dark bg-background-light/90 dark:bg-background-dark/80 backdrop-blur-sm">
      <div class="mx-auto flex h-16 max-w-md items-center justify-around px-4">
        <a class="flex flex-col items-center justify-center gap-1 text-subtext-light dark:text-subtext-dark" href="index.html">
          <span class="material-symbols-outlined">dashboard</span>
          <span class="text-xs font-bold">Inicio</span>
        </a>
        <a class="flex flex-col items-center justify-center gap-1 text-primary"
          href="actions.html">
          <span class="material-symbols-outlined">recommend</span>
          <span class="text-xs font-bold">Recomendaciones</span>
        </a>
        <a class="flex flex-col items-center justify-center gap-1 text-subtext-light dark:text-subtext-dark"
          href="goals.html">
          <span class="material-symbols-outlined">donut_small</span>
          <span class="text-xs font-medium">Metas</span>
        </a>
      </div>
    </nav>
  </div>

  <!-- Investment Modal -->
  <div id="investmentModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
    <div class="bg-background-light dark:bg-background-dark rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-bold">Modelos de Inversión Capital One</h3>
        <button onclick="document.getElementById('investmentModal').classList.add('hidden')" class="text-2xl">&times;</button>
      </div>
      
      <div class="space-y-4">
        <!-- Investment Option 1 -->
        <div class="border border-border-light dark:border-border-dark rounded-lg p-4">
          <h4 class="font-bold text-primary">360 Performance Savings</h4>
          <p class="text-sm text-subtext-light dark:text-subtext-dark mb-3">Cuenta de ahorros de alto rendimiento con 4.25% APY. Sin mínimo de saldo.</p>
          <button onclick="openForecastModal('360 Performance Savings', '4.25')" class="w-full bg-primary text-white py-2 rounded text-sm">Ver en Forecast</button>
        </div>
        
        <!-- Investment Option 2 -->
        <div class="border border-border-light dark:border-border-dark rounded-lg p-4">
          <h4 class="font-bold text-primary">Certificate of Deposit (CD)</h4>
          <p class="text-sm text-subtext-light dark:text-subtext-dark mb-3">CD a 12 meses con 5.00% APY. Depósito mínimo de $1,000.</p>
          <button onclick="openForecastModal('Certificate of Deposit', '5.00')" class="w-full bg-primary text-white py-2 rounded text-sm">Ver en Forecast</button>
        </div>
        
        <!-- Investment Option 3 -->
        <div class="border border-border-light dark:border-border-dark rounded-lg p-4">
          <h4 class="font-bold text-primary">Money Market Account</h4>
          <p class="text-sm text-subtext-light dark:text-subtext-dark mb-3">Cuenta del mercado monetario con 4.00% APY y acceso flexible a fondos.</p>
          <button onclick="openForecastModal('Money Market Account', '4.00')" class="w-full bg-primary text-white py-2 rounded text-sm">Ver en Forecast</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Forecast Modal -->
  <div id="forecastModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
    <div class="bg-background-light dark:bg-background-dark rounded-xl p-6 w-full max-w-md">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-bold" id="forecastTitle">Proyección de Inversión</h3>
        <button onclick="resetForecastModal()" class="text-2xl">&times;</button>
      </div>
      
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-1">Cantidad a Invertir ($)</label>
          <input type="number" id="investmentAmount" class="w-full p-2 border border-border-light dark:border-border-dark rounded" placeholder="1000">
        </div>
        
        <div>
          <label class="block text-sm font-medium mb-1">Plazo</label>
          <select id="investmentTerm" class="w-full p-2 border border-border-light dark:border-border-dark rounded">
            <option value="3">3 meses</option>
            <option value="6">6 meses</option>
          </select>
        </div>
        
        <div id="projectionResult" class="hidden bg-secondary/10 p-4 rounded-lg">
          <h4 class="font-bold text-secondary mb-2">Proyección:</h4>
          <p id="projectionText" class="text-sm"></p>
        </div>
        
        <div class="flex gap-2">
          <button onclick="calculateProjection()" class="flex-1 bg-secondary text-white py-2 rounded font-medium">Calcular</button>
          <button onclick="addToForecast()" class="flex-1 bg-primary text-white py-2 rounded font-medium">Agregar al Forecast</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    function filterRecommendations(category) {
      const cards = document.querySelectorAll('.recommendation-card');
      const chips = document.querySelectorAll('.filter-chip');

      // Reset chip styles
      chips.forEach(chip => {
        chip.className = 'filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-card-light dark:bg-card-dark border border-gray-200 dark:border-gray-700 pl-5 pr-5';
        chip.querySelector('p').className = 'text-text-light dark:text-text-dark text-sm font-medium';
      });

      // Highlight active chip
      event.target.closest('.filter-chip').className = 'filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-primary pl-5 pr-5 shadow-sm';
      event.target.closest('.filter-chip').querySelector('p').className = 'text-white text-sm font-semibold';

      // Filter cards
      cards.forEach(card => {
        const cardCategory = card.querySelector('.category').textContent;
        if (category === 'Todos' || cardCategory === category) {
          card.style.display = 'flex';
        } else {
          card.style.display = 'none';
        }
      });
    }
    
    let currentInvestment = {};
    
    function openForecastModal(name, apy) {
      currentInvestment = { name, apy: parseFloat(apy) };
      document.getElementById('forecastTitle').textContent = `Proyección: ${name}`;
      document.getElementById('investmentModal').classList.add('hidden');
      document.getElementById('forecastModal').classList.remove('hidden');
    }
    
    function calculateProjection() {
      const amount = parseFloat(document.getElementById('investmentAmount').value);
      const term = parseInt(document.getElementById('investmentTerm').value);
      
      if (!amount || !term) {
        alert('Por favor ingresa cantidad y plazo');
        return;
      }
      
      const monthlyRate = currentInvestment.apy / 100 / 12;
      const finalAmount = amount * Math.pow(1 + monthlyRate, term);
      const earnings = finalAmount - amount;
      
      document.getElementById('projectionText').innerHTML = `
        <strong>Inversión inicial:</strong> $${amount.toLocaleString()}<br>
        <strong>Plazo:</strong> ${term} meses<br>
        <strong>APY:</strong> ${currentInvestment.apy}%<br>
        <strong>Valor final:</strong> $${finalAmount.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}<br>
        <strong>Ganancias:</strong> $${earnings.toLocaleString('en-US', {minimumFractionDigits: 2, maximumFractionDigits: 2})}
      `;
      
      document.getElementById('projectionResult').classList.remove('hidden');
    }
    
    function addToForecast() {
      alert(`${currentInvestment.name} agregado al forecast. Revisa la gráfica en la página principal.`);
      resetForecastModal();
    }
    
    function resetForecastModal() {
      document.getElementById('investmentAmount').value = '';
      document.getElementById('investmentTerm').selectedIndex = 0;
      document.getElementById('projectionResult').classList.add('hidden');
      document.getElementById('forecastModal').classList.add('hidden');
    }
  </script>

</body>

</html>